<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Galería Dinámica</title>
    <link rel="stylesheet" href="/css/styles-galeria.css">
</head>
<body>
    <header>
        <nav>
            <div class="logo">
                <a href="/index.html">
                <img src="/images/iconopentaoxido.png" alt="Logo">
                </a>
            </div>
            <ul>
                <li><a href="/index.html">Menú principal</a></li>
                <li><a href="/HTML/contacto.html">¿Dónde encontrarnos?</a></li>
                <li><a href="/HTML/presupuesto.html">Pídenos presupuesto aquí</a></li>
                <li><a href="/HTML/galeria.html" class="active">Galería</a></li>
            </ul>
        </nav>
    </header>

    <section class="masonry" id="galeria">
        <h2>Galería de Imágenes</h2>
    </section>

<!-- Modal -->
<div id="modal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    
    <button id="prev-btn" class="nav-btn" aria-label="Imagen anterior">
        &#8249;
    </button>

    <img id="img-ampliada" class="modal-img" src="https://via.placeholder.com/600x400" alt="Imagen ampliada">

    <button id="next-btn" class="nav-btn" aria-label="Imagen siguiente">
        &#8250;
    </button>
    
</div>

    <footer>
        <div class="footer-container">
            <a href="https://facebook.com" target="_blank">
                <img src="images/redes_sociales/LogoFacebook" alt="Facebook">
            </a>
            <a href="https://twitter.com/pentaoxido" target="_blank">
                <img src="images/redes_sociales/LogoTwitter.png" alt="Twitter">
            </a>
            <a href="https://www.instagram.com/pentaoxido/" target="_blank">
                <img src="images/redes_sociales/LogoInstagram.png" alt="Instagram">
            </a>
        </div>
        <div>
            <div class="company-info">
                <p>Dirección: Calle Real 123, 15175, A Coruña, España</p>
                <p>Email: contactopentaoxido@empresa.com</p>
            </div>
            <div class="legal-info">
                <a href="/HTML/aviso-legal.html" target="_blank">Aviso Legal</a>
            </div>
        </div>
    </footer>

    <script>
        const imagenes = [
        "portafolio1.jpg",
        "portafolio2.jpg",
        "portafolio3.jpg",
        "portafolio4.jpg",
        "portafolio5.jpg",
        "portafolio6.jpg",
        "portafolio7.jpg",
        "portafolio8.jpg",
        "portafolio9.jpg",
        "portafolio10.jpg",
        "portafolio11.jpg",
        "portafolio13.jpg",
        "portafolio14.jpg",
    ];
        const galeria = document.getElementById("galeria");
        const modal = document.getElementById("modal");
        const modalImg = document.getElementById("modal-img");
        const prevBtn = document.getElementById("prev-btn");
        const nextBtn = document.getElementById("next-btn");
    
        let currentIndex = 0;
    
        function mostrarImagen(index) {
            if (index < 0) index = imagenes.length - 1;
            else if (index >= imagenes.length) index = 0;
            currentIndex = index;
            modalImg.src = "/images/Portafolio/" + imagenes[currentIndex];
        }
    
        imagenes.forEach((nombre, index) => {
            const item = document.createElement("div");
            item.className = "masonry-item";
        
            const img = document.createElement("img");
            img.src = "/images/Portafolio/" + nombre;
            img.alt = nombre;
            img.loading = "lazy";
        
            img.onclick = () => {
            mostrarImagen(index);
            modal.style.display = "flex";
        };
        
        item.appendChild(img);
        galeria.appendChild(item);
        
        setTimeout(() => {
            item.classList.add("visible");
          }, 150 * index);
        });
        
        prevBtn.onclick = (e) => {
            e.stopPropagation(); // Evita que se cierre el modal al hacer click aquí
            mostrarImagen(currentIndex - 1);
        };
    
        nextBtn.onclick = (e) => {
            e.stopPropagation();
            mostrarImagen(currentIndex + 1);
        };
        
        modal.onclick = (e) => {
          // Cierra solo si haces click en el fondo (no en la imagen ni botones)
        if (
            e.target.id === "modal" ||
            e.target.id === "modal-img"
        ) {
            modal.style.display = "none";
        }
        };

        // Opcional: cerrar con tecla Escape
        document.addEventListener("keydown", (e) => {
        if (e.key === "Escape") {
            modal.style.display = "none";
        }
        });
    </script>
</body>
</html>